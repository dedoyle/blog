(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{231:function(t,a,e){"use strict";e.r(a);var s=e(3),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue-cli-and-ant-design"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-and-ant-design"}},[t._v("#")]),t._v(" vue-cli and ant design")]),t._v(" "),e("ol",[e("li",[t._v("安装 vue-cli")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tyarn global add @vue/cli\n")])])]),e("p",[t._v("我的版本是 4.1.1")]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("创建项目")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("vue create antd-demo\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("进入项目")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cd antd-demo\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("安装 ant-design-vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tyarn add ant-design-vue\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("动态加载模块")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tyarn add -D babel-plugin-import\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[t._v("兼容 ie 9")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tyarn add @babel/polyfill @@babel/runtime\ntyarn add -D @babel/plugin-transform-runtime\n")])])]),e("ol",{attrs:{start:"7"}},[e("li",[t._v("创建 .editorconfig")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root = true\n\n[*]\nindent_style = space\nindent_size = 2\ncharset = utf-8\ntrim_trailing_whitespace = false\ninsert_final_newline = false\n")])])]),e("ol",{attrs:{start:"8"}},[e("li",[t._v("package.json")])]),t._v(" "),e("p",[t._v("我选择将配置写在 package.json，而不是拆开多个文件。这里配置一下浏览器版本和 prettier。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('"browserslist": [\n    "> 1%",\n    "last 2 versions",\n    "IE 9"\n],\n"prettier": {\n    "printWidth": 80,\n    "tabWidth": 2,\n    "useTabs": false,\n    "singleQuote": true,\n    "semi": false,\n    "trailingComma": "none"\n}\n')])])]),e("ol",{attrs:{start:"9"}},[e("li",[t._v("babel.config.js")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("module.exports = {\n  presets: [\n    '@vue/app',\n    [\n      '@babel/preset-env',\n      {\n        corejs: 3,\n        useBuiltIns: 'entry'\n      }\n    ]\n  ],\n  plugins: [\n    [\n      'import',\n      {\n        libraryName: 'ant-design-vue',\n        libraryDirectory: 'es',\n        style: true\n      }\n    ],\n    '@babel/plugin-transform-runtime'\n  ]\n}\n")])])]),e("ol",{attrs:{start:"10"}},[e("li",[t._v("新建 vue.config.js")])]),t._v(" "),e("p",[t._v("我这里加入这个配置是因为编译时发现报错，加入这个配置解决 less 的编译问题。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("module.exports = {\n  css: {\n    loaderOptions: {\n      less: {\n        javascriptEnabled: true\n      }\n    }\n  }\n}\n")])])]),e("ol",{attrs:{start:"11"}},[e("li",[t._v("main.js")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport { Button } from 'ant-design-vue' // 动态加载 button\nimport 'core-js/stable'\nimport 'regenerator-runtime/runtime'\n\nVue.config.productionTip = false\nVue.component(Button.name, Button)\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\n")])])]),e("p",[t._v("这里有个地方要注意，根据 babel.config.js 中 corejs 的配置，这里加入的代码不同。\n@babel/preset-env 选择 corejs 3，是添加")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import 'core-js/stable'\nimport 'regenerator-runtime/runtime'\n")])])]),e("p",[t._v("@babel/preset-env 选择 corejs 2，是添加")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import '@babel/polyfill'\n")])])]),e("ol",{attrs:{start:"11"}},[e("li",[t._v("Home.vue")])]),t._v(" "),e("p",[t._v("测试一下加入 button")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<a-button type="primary">Button></a-button>\n')])])])])}),[],!1,null,null,null);a.default=n.exports}}]);